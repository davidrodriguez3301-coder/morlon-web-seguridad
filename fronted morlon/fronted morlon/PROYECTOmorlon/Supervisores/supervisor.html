<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestión de Supervisores</title>

  <!-- Estilos -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="../css/estilos.css" />
</head>

<body class="body-main">

  <!-- ENCABEZADO -->
  <div class="container text-center mt-3">
    <div class="row w-100 align-items-center">
      <div class="col-3 text-start">
        <a class="navbar-brand" href="../PrincipalIndex/index.html">
          <img src="../assets/img/LOGO.JPG" alt="Logo Morlon" style="height:60px;border-radius:50%;" />
        </a>
      </div>
      <div class="col-6">
        <h1 class="bienvenidos">Gestión de Supervisores</h1>
      </div>
      <div class="col-3 text-end">
        <a class="nav-link text-black" href="../PrincipalIndex/index.html">
          Volver <i class="fas fa-arrow-left ms-1"></i>
        </a>
      </div>
    </div>
  </div>

  <!-- CONTENIDO -->
  <main class="container mt-4">
    <div class="p-4 shadow-lg rounded bg-light">

      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Listado de Supervisores</h2>
        <button class="btn btn-success" id="btnAgregar">
          <i class="fas fa-plus"></i> Nuevo Supervisor
        </button>
      </div>

      <!-- BUSCADOR -->
      <div class="row mb-3">
        <div class="col-md-6 mb-2">
          <input type="text" id="buscarInput" class="form-control" placeholder="Buscar por nombre o cédula..." />
        </div>
        <div class="col-md-6 text-md-end">
          <button class="btn btn-secondary" id="btnVerTodo">
            <i class="fas fa-list"></i> Ver Todos
          </button>
        </div>
      </div>

      <!-- TABLA -->
      <div class="table-responsive">
        <table class="table table-striped align-middle text-center">
          <thead class="table-dark">
            <tr>
              <th>ID</th>
              <th>Supervisor</th>
              <th>Cédula</th>
              <th>RH</th>
              <th>Email</th>
              <th>Zona</th>
              <th>Contrato</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="tablaSupervisores"></tbody>
        </table>
      </div>

      <!-- PAGINACIÓN -->
      <nav>
        <ul id="paginacion" class="pagination justify-content-center"></ul>
      </nav>

    </div>
  </main>

  <!-- ============================================================
       MODAL AGREGAR / EDITAR SUPERVISOR
  ============================================================ -->
  <div class="modal fade" id="supervisorModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">

      <div class="modal-content shadow-lg">
        <div class="modal-header bg-dark text-white">
          <h5 class="modal-title" id="modalTitle">Nuevo Supervisor</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <form id="formSupervisor" class="p-2">

            <input type="hidden" id="idSupervisor" />

            <div class="row gy-3">
              
              <!-- NOMBRE -->
              <div class="col-md-8">
                <label class="form-label">Nombre Completo</label>
                <input type="text" id="nombres_apellidos" class="form-control" required />
              </div>

              <!-- CÉDULA -->
              <div class="col-md-4">
                <label class="form-label">Cédula</label>
                <input type="text" id="cedula" class="form-control" maxlength="13" required />
              </div>

              <!-- EPS -->
              <div class="col-md-4">
                <label class="form-label">EPS</label>
                <select id="idEPS" class="form-select" required></select>
              </div>

              <!-- ARL -->
              <div class="col-md-4">
                <label class="form-label">ARL</label>
                <select id="idARL" class="form-select" required></select>
              </div>

              <!-- CONTRATO -->
              <div class="col-md-4">
                <label class="form-label">Tipo Contrato</label>
                <select id="idTipoContrato" class="form-select" required></select>
              </div>

              <!-- CELULARES -->
              <div class="col-md-6">
                <label class="form-label">Celular 1</label>
                <input type="text" id="cel1" class="form-control" maxlength="12">
              </div>

              <div class="col-md-6">
                <label class="form-label">Celular 2</label>
                <input type="text" id="cel2" class="form-control" maxlength="12">
              </div>

              <!-- RH -->
              <div class="col-md-4">
                <label class="form-label">RH</label>
                <select id="rh" class="form-select" required>
                  <option value="">Seleccione...</option>
                  <option>O+</option><option>O-</option>
                  <option>A+</option><option>A-</option>
                  <option>B+</option><option>B-</option>
                  <option>AB+</option><option>AB-</option>
                </select>
              </div>

              <!-- EMAIL -->
              <div class="col-md-8">
                <label class="form-label">Email</label>
                <input type="email" id="email" class="form-control" />
              </div>

              <!-- ZONA -->
              <div class="col-md-6">
                <label class="form-label">Zona</label>
                <select id="IdZonas" class="form-select" required></select>
              </div>

              <!-- OPERATIVO (solo badge, no input) -->
              <div class="col-md-6">
                <label class="form-label">Operativo Asignado</label><br>
                <span class="badge bg-primary" id="nombreOperativoCreadorBadge"></span>
              </div>

              <!-- FOTO -->
              <div class="col-md-12 text-center">
                <label class="form-label fw-bold mt-2">Fotografía</label>
                <div class="d-flex flex-column align-items-center">
                  <img id="previewFoto" src="../assets/img/user_default.jpg"
                       style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid #ccc;" />
                  <input type="file" id="fotografia" accept="image/*" class="form-control w-75 mt-2" />
                </div>
              </div>

            </div>

            <div class="mt-4 d-flex gap-2 justify-content-end">
              <button type="submit" class="btn btn-success">
                <i class="fas fa-save me-1"></i> Guardar
              </button>
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                <i class="fas fa-times me-1"></i> Cancelar
              </button>
            </div>

          </form>
        </div>
      </div>

    </div>
  </div>

  <!-- ============================================================
       MODAL DETALLES SUPERVISOR
  ============================================================ -->
  <div class="modal fade" id="detalleSupervisorModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">

      <div class="modal-content shadow-lg">
        <div class="modal-header bg-info text-white">
          <h5 class="modal-title">Detalles del Supervisor</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">
          <div class="row gy-3">

            <div class="col-md-4 text-center">
              <img id="detalleFoto" src="../assets/img/user_default.jpg"
                   class="rounded-circle shadow-sm"
                   style="width:140px;height:140px;object-fit:cover;border:3px solid #ccc;" />
            </div>

            <div class="col-md-8">
              <p><strong>Nombre:</strong> <span id="detalleNombre"></span></p>
              <p><strong>Cédula:</strong> <span id="detalleCedula"></span></p>
              <p><strong>Email:</strong> <span id="detalleEmail"></span></p>
              <p><strong>Celular 1:</strong> <span id="detalleCel1"></span></p>
              <p><strong>Celular 2:</strong> <span id="detalleCel2"></span></p>
              <p><strong>RH:</strong> <span id="detalleRH"></span></p>
              <p><strong>Zona:</strong> <span id="detalleZona"></span></p>

              <p><strong>EPS:</strong> <span id="detalleEPS"></span></p>
              <p><strong>ARL:</strong> <span id="detalleARL"></span></p>
              <p><strong>Contrato:</strong> <span id="detalleContrato"></span></p>

              <p><strong>Operativo:</strong>
                <span id="detalleOperativo" class="badge bg-primary"></span>
              </p>

            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">
            <i class="fas fa-times me-1"></i> Cerrar
          </button>
        </div>

      </div>
    </div>
  </div>

    <footer class="main-footer bg-dark text-white mt-5">
  <div class="container py-3">
    <div class="row align-items-center">
      
      <!-- Columna izquierda: mensaje corporativo -->
      <div class="col-md-6 text-center text-md-start mb-3 mb-md-0 footer-left">
        MORLON prestar un servicio oportuno, eficaz y confiable logrando 
        satisfacer las necesidades de nuestros clientes, garantizándoles 
        una protección integral
     </div>

      <!-- Columna derecha: derechos y contacto -->
      <div class="col-md-6 text-center text-md-end">
        <span>&copy; 2024 MORLON Cía. de Seguridad Portuaria Ltda.</span>
        <span class="d-none d-md-inline mx-2">|</span>
        <span>Contacto: (123) 456-7890</span>
      </div>

    </div>
  </div>
</footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script type="module" src="../js/Supervisores/supervisor.js"></script>

</body>
</html>

